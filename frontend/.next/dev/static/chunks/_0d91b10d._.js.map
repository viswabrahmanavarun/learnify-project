{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/varun/Desktop/internship-lms/frontend/lib/auth.ts"],"sourcesContent":["// frontend/lib/auth.ts\n\nimport {jwtDecode} from \"jwt-decode\";\n\n/* =========================\n   TYPES\n========================= */\nexport type UserRole = \"ADMIN\" | \"MENTOR\" | \"STUDENT\";\n\ninterface DecodedToken {\n  userId: string;\n  role: UserRole;\n  exp: number;\n}\n\n/* =========================\n   SAVE AUTH\n========================= */\nexport const saveAuth = (token: string) => {\n  localStorage.setItem(\"token\", token);\n};\n\n/* =========================\n   LOGOUT\n========================= */\nexport const logout = () => {\n  localStorage.removeItem(\"token\");\n  window.location.href = \"/auth/login\";\n};\n\n/* =========================\n   GET TOKEN\n========================= */\nexport const getToken = (): string | null => {\n  if (typeof window === \"undefined\") return null;\n  return localStorage.getItem(\"token\");\n};\n\n/* =========================\n   DECODE TOKEN\n========================= */\nexport const getUserFromToken = (): DecodedToken | null => {\n  try {\n    const token = getToken();\n    if (!token) return null;\n\n    const decoded = jwtDecode<DecodedToken>(token);\n\n    // Token expired\n    if (decoded.exp * 1000 < Date.now()) {\n      logout();\n      return null;\n    }\n\n    return decoded;\n  } catch {\n    logout();\n    return null;\n  }\n};\n\n/* =========================\n   GET ROLE (SAFE)\n========================= */\nexport const getRole = (): UserRole | null => {\n  const user = getUserFromToken();\n  return user?.role ?? null;\n};\n\n/* =========================\n   AUTH CHECK\n========================= */\nexport const isAuthenticated = (): boolean => {\n  return !!getUserFromToken();\n};\n"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;;;;;;;;;;AAEvB;;AAgBO,MAAM,WAAW,CAAC;IACvB,aAAa,OAAO,CAAC,SAAS;AAChC;AAKO,MAAM,SAAS;IACpB,aAAa,UAAU,CAAC;IACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;AACzB;AAKO,MAAM,WAAW;IACtB;;IACA,OAAO,aAAa,OAAO,CAAC;AAC9B;AAKO,MAAM,mBAAmB;IAC9B,IAAI;QACF,MAAM,QAAQ;QACd,IAAI,CAAC,OAAO,OAAO;QAEnB,MAAM,UAAU,IAAA,sKAAS,EAAe;QAExC,gBAAgB;QAChB,IAAI,QAAQ,GAAG,GAAG,OAAO,KAAK,GAAG,IAAI;YACnC;YACA,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAM;QACN;QACA,OAAO;IACT;AACF;AAKO,MAAM,UAAU;IACrB,MAAM,OAAO;IACb,OAAO,MAAM,QAAQ;AACvB;AAKO,MAAM,kBAAkB;IAC7B,OAAO,CAAC,CAAC;AACX"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/varun/Desktop/internship-lms/frontend/lib/api.ts"],"sourcesContent":["import axios, { InternalAxiosRequestConfig } from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:4000/api\",\n});\n\napi.interceptors.request.use(\n  (config: InternalAxiosRequestConfig) => {\n    if (typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\nexport default api;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;uCAGb"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/varun/Desktop/internship-lms/frontend/app/courses/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { getToken } from \"@/lib/auth\";\nimport api from \"@/lib/api\";\n\n/* =========================\n   TYPES\n========================= */\ninterface Course {\n  id: number;\n  title: string;\n  description: string;\n  mentor?: {\n    name: string;\n  };\n}\n\n/* =========================\n   COURSES PAGE\n========================= */\nexport default function CoursesPage() {\n  const [courses, setCourses] = useState<Course[]>([]);\n  const [loading, setLoading] = useState(true);\n  const token = getToken();\n\n  useEffect(() => {\n    const fetchCourses = async () => {\n      try {\n        const res = await api.get(\"/courses\");\n        setCourses(res.data);\n      } catch (error) {\n        console.error(\"Failed to fetch courses\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchCourses();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"p-8 text-center text-lg\">\n        Loading courses...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-8 max-w-6xl mx-auto\">\n      <h1 className=\"text-3xl font-bold mb-6\">\n        Available Courses\n      </h1>\n\n      {courses.length === 0 ? (\n        <p>No courses available.</p>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {courses.map((course) => (\n            <div\n              key={course.id}\n              className=\"border rounded-lg p-6 shadow hover:shadow-md transition\"\n            >\n              <h2 className=\"text-xl font-semibold mb-2\">\n                {course.title}\n              </h2>\n\n              <p className=\"text-gray-600 mb-4\">\n                {course.description}\n              </p>\n\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-500\">\n                  Mentor: {course.mentor?.name ?? \"N/A\"}\n                </span>\n\n                <Link\n                  href={`/courses/${course.id}`}\n                  className=\"text-blue-600 font-medium hover:underline\"\n                >\n                  View Course â†’\n                </Link>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAsBe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,QAAQ,IAAA,0HAAQ;IAEtB,IAAA,0KAAS;iCAAC;YACR,MAAM;sDAAe;oBACnB,IAAI;wBACF,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAC;wBAC1B,WAAW,IAAI,IAAI;oBACrB,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,2BAA2B;oBAC3C,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;gCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBAA0B;;;;;;IAI7C;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;YAIvC,QAAQ,MAAM,KAAK,kBAClB,6LAAC;0BAAE;;;;;qCAEH,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;wBAEC,WAAU;;0CAEV,6LAAC;gCAAG,WAAU;0CACX,OAAO,KAAK;;;;;;0CAGf,6LAAC;gCAAE,WAAU;0CACV,OAAO,WAAW;;;;;;0CAGrB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;;4CAAwB;4CAC7B,OAAO,MAAM,EAAE,QAAQ;;;;;;;kDAGlC,6LAAC,0KAAI;wCACH,MAAM,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE;wCAC7B,WAAU;kDACX;;;;;;;;;;;;;uBAnBE,OAAO,EAAE;;;;;;;;;;;;;;;;AA6B5B;GArEwB;KAAA"}}]
}